pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                checkout scm
            }
        }
        stage('Setup') {
            steps {
                script {
                    // Install Node.js and npm
                    // This is a workaround for the Jenkins agent not having Node.js installed
                    sh """
                       sudo apt-get update && apt-get install -y nodejs npm
                       ln -s /usr/bin/nodejs /usr/bin/node  
                       npm install -g npm@latest 
                    """
                }
            }
        }
        stage('Install') {
            steps {
                sh 'npm install'
            }
        }

        stage('Build') {
            steps {
                sh 'npm Build'
            }
        }
    }
}
